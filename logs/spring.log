2021-04-05 07:44:10 [restartedMain] INFO  pisibg.PisibgApplication - Starting PisibgApplication using Java 15.0.2 on MacBook-Pro.local with PID 810 (/Users/admin/Documents/IT Talents/pisi_bg/target/classes started by admin in /Users/admin/Documents/IT Talents/pisi_bg)
2021-04-05 07:44:10 [restartedMain] INFO  pisibg.PisibgApplication - The following profiles are active: hristo
2021-04-05 07:44:10 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-04-05 07:44:10 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-04-05 07:44:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-04-05 07:44:12 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 109 ms. Found 11 JPA repository interfaces.
2021-04-05 07:44:12 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8888 (http)
2021-04-05 07:44:12 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-04-05 07:44:12 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.44]
2021-04-05 07:44:12 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-04-05 07:44:12 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2289 ms
2021-04-05 07:44:13 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-04-05 07:44:13 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-04-05 07:44:14 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-04-05 07:44:15 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-04-05 07:44:16 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.CartController:
	{DELETE [/cart/all]}: emptyCart(HttpSession)
	{GET [/cart]}: checkout(HttpSession)
	{PUT [/cart]}: addProduct(ProductOrderRequestDTO,HttpSession)
	{DELETE [/cart]}: removeProduct(ProductOrderRequestDTO,HttpSession)
2021-04-05 07:44:16 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.CategoryController:
	{POST [/categories]}: add(HttpSession,CategoryRequestDTO)
	{GET [/categories]}: getAll()
	{PUT [/categories]}: edit(HttpSession,CategoryEditRequestDTO)
	{GET [/categories/{id}]}: getById(int)
2021-04-05 07:44:16 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.DiscountController:
	{POST [/discounts]}: add(HttpSession,DiscountRequestDTO)
	{GET [/discounts]}: getAll()
	{PUT [/discounts]}: edit(HttpSession,DiscountEditRequestDTO)
	{GET [/discounts/{id}]}: getById(int)
2021-04-05 07:44:16 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.ImageController:
	{POST [/images/product/{product_id}]}: upload(int,HttpSession,MultipartFile)
	{GET [/images/{id}], produces [image/*]}: download(int)
2021-04-05 07:44:16 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.ManufacturerController:
	{POST [/manufacturers]}: add(ManufacturerRequestDTO,HttpSession)
	{GET [/manufacturers]}: getAll()
	{PUT [/manufacturers]}: editManufacturer(HttpSession,ManufacturerEditRequestDTO)
	{GET [/manufacturers/{id}]}: getById(int)
2021-04-05 07:44:16 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.OrderController:
	{PUT [/pay]}: pay(HttpSession,OrderRequestDTO)
2021-04-05 07:44:16 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.OrderStatusController:
	{POST [/users/orderstatus]}: add(HttpSession,OrderStatusRequestDTO)
	{GET [/users/orderstatus]}: getAll(HttpSession)
	{PUT [/users/orderstatus]}: edit(HttpSession,OrderStatusEditDTO)
	{GET [/users/orderstatus/{order_id}]}: getById(int,HttpSession)
2021-04-05 07:44:16 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.PaymentMethodController:
	{GET [/paymentmethod]}: getAll(HttpSession)
	{PUT [/paymentmethod]}: edit(HttpSession,PaymentMethodEditDTO)
	{GET [/paymentmethod/{id}]}: getById(int,HttpSession)
	{POST [/paymentmethod]}: addPaymentMethod(HttpSession,PaymentMethodRequestDTO)
2021-04-05 07:44:16 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.ProductController:
	{POST [/products]}: add(HttpSession,ProductRequestDTO)
	{POST [/products/filter]}: getAll(ProductFilterRequestDTO)
	{DELETE [/products]}: deleteProduct(HttpSession,ProductDeleteRequestDTO)
	{POST [/products/filter/admin]}: getAllAdmin(HttpSession,ProductFilterRequestDTO)
	{PUT [/products]}: edit(HttpSession,ProductEditRequestDTO)
	{GET [/products/{id}/admin]}: getById(int,HttpSession)
	{GET [/products/{id}]}: getById(int)
2021-04-05 07:44:16 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.SubCategoryController:
	{GET [/subcategories]}: getAll()
	{PUT [/subcategories]}: edit(HttpSession,SubCategoryEditRequestDTO)
	{GET [/subcategories/{id}]}: getById(int)
	{POST [/subcategories]}: addNewSubcategory(HttpSession,SubCategoryRequestDTO)
2021-04-05 07:44:16 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.UserController:
	{POST [/users]}: register(UserRegisterRequestDTO)
	{GET [/users/{id}]}: getById(int,HttpSession)
	{PUT [/users]}: login(UserLoginDTO,HttpSession)
	{POST [/admins/{id_user}]}: makeAdmin(int,HttpSession)
	{PUT [/admins/{id_user}]}: removeAdmin(int,HttpSession)
	{DELETE [/admins/{user_id}]}: deleteUser(int,HttpSession)
	{POST [/admins/users]}: getAllUsers(UserReportRequestDTO,HttpSession)
	{POST [/admins/daily]}: getDailyOrders(OrderDailyReportRequestDTO,HttpSession)
	{POST [/admins/monthly]}: getMonthlyOrders(OrderMonthlyReportRequestDTO,HttpSession)
	{POST [/admins/yearly]}: getYearlyOrders(OrderYearlyReportRequestDTO,HttpSession)
	{PUT [/users/order]}: editOrder(OrderEditRequestDTO,HttpSession)
	{DELETE [/users/{id}]}: softDelete(int,HttpSession)
	{POST [/logout]}: logout(HttpSession)
	{PUT [/users/edit]}: editUser(UserEditRequestDTO,HttpSession)
	{POST [/users/edit]}: editPasswordUser(UserEditPasswordDTO,HttpSession)
2021-04-05 07:44:16 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	s.d.s.w.Swagger2ControllerWebMvc:
	{GET [/v2/api-docs], produces [application/json || application/hal+json]}: getDocumentation(String,HttpServletRequest)
2021-04-05 07:44:16 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	s.d.s.w.ApiResourceController:
	{GET [/swagger-resources/configuration/security], produces [application/json]}: securityConfiguration()
	{GET [/swagger-resources/configuration/ui], produces [application/json]}: uiConfiguration()
	{GET [/swagger-resources], produces [application/json]}: swaggerResources()
2021-04-05 07:44:16 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	s.d.o.w.OpenApiControllerWebMvc:
	{GET [/v3/api-docs], produces [application/json || application/hal+json]}: getDocumentation(String,HttpServletRequest)
2021-04-05 07:44:16 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2021-04-05 07:44:16 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 60 mappings in 'requestMappingHandlerMapping'
2021-04-05 07:44:16 [restartedMain] INFO  o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2021-04-05 07:44:16 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2021-04-05 07:44:16 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-04-05 07:44:16 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/swagger-ui/] onto ParameterizableViewController [view="forward:/swagger-ui/index.html"]
2021-04-05 07:44:16 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-04-05 07:44:16 [restartedMain] DEBUG o.s.w.s.h.BeanNameUrlHandlerMapping - Detected 0 mappings in 'beanNameHandlerMapping'
2021-04-05 07:44:16 [restartedMain] TRACE o.s.w.s.f.s.RouterFunctionMapping - 0 RouterFunction(s) in 'routerFunctionMapping'
2021-04-05 07:44:16 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/explorer/**] onto ResourceHttpRequestHandler [Classpath [META-INF/spring-data-rest/hal-explorer/]]
2021-04-05 07:44:16 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/swagger-ui/**] onto ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-04-05 07:44:16 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/webjars/**] onto ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/]]
2021-04-05 07:44:16 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/**] onto ResourceHttpRequestHandler [Classpath [META-INF/resources/], Classpath [resources/], Classpath [static/], Classpath [public/], ServletContext [/]]
2021-04-05 07:44:16 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/explorer/**, /swagger-ui/**, /webjars/**, /**] in 'resourceHandlerMapping'
2021-04-05 07:44:16 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2021-04-05 07:44:16 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8888 (http) with context path ''
2021-04-05 07:44:19 [restartedMain] INFO  pisibg.PisibgApplication - Started PisibgApplication in 10.033 seconds (JVM running for 11.44)
2021-04-05 07:45:55 [http-nio-8888-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-04-05 07:45:55 [http-nio-8888-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2021-04-05 07:45:55 [http-nio-8888-exec-2] TRACE o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.multipart.support.StandardServletMultipartResolver@2b370e18
2021-04-05 07:45:55 [http-nio-8888-exec-2] TRACE o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver@19fb001
2021-04-05 07:45:55 [http-nio-8888-exec-2] TRACE o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.theme.FixedThemeResolver@665453a6
2021-04-05 07:45:55 [http-nio-8888-exec-2] TRACE o.s.web.servlet.DispatcherServlet - Detected DefaultRequestToViewNameTranslator
2021-04-05 07:45:55 [http-nio-8888-exec-2] TRACE o.s.web.servlet.DispatcherServlet - Detected SessionFlashMapManager
2021-04-05 07:45:55 [http-nio-8888-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-04-05 07:45:55 [http-nio-8888-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2021-04-05 07:45:55 [http-nio-8888-exec-2] TRACE o.s.web.servlet.DispatcherServlet - POST "/images/product/7", parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'
2021-04-05 07:45:55 [http-nio-8888-exec-2] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to pisibg.controller.ImageController#upload(int, HttpSession, MultipartFile)
2021-04-05 07:45:55 [http-nio-8888-exec-2] TRACE o.s.web.method.HandlerMethod - Arguments: [7, org.apache.catalina.session.StandardSessionFacade@68efcf8e, org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@6e0a5217]
2021-04-05 07:45:55 [http-nio-8888-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler pisibg.controller.ImageController#handleAuthentication(AuthenticationException)
2021-04-05 07:45:55 [http-nio-8888-exec-2] TRACE o.s.web.method.HandlerMethod - Arguments: [pisibg.exceptions.AuthenticationException: You have to log in!]
2021-04-05 07:45:55 [http-nio-8888-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2021-04-05 07:45:55 [http-nio-8888-exec-2] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [pisibg.model.dto.ErrorDTO@5fdb5197]
2021-04-05 07:45:55 [http-nio-8888-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [pisibg.exceptions.AuthenticationException: You have to log in!]
2021-04-05 07:45:55 [http-nio-8888-exec-2] TRACE o.s.web.servlet.DispatcherServlet - No view rendering, null ModelAndView returned.
2021-04-05 07:45:55 [http-nio-8888-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 401 UNAUTHORIZED, headers={masked}
2021-04-05 07:46:00 [http-nio-8888-exec-3] TRACE o.s.web.servlet.DispatcherServlet - PUT "/users", parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'
2021-04-05 07:46:00 [http-nio-8888-exec-3] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to pisibg.controller.UserController#login(UserLoginDTO, HttpSession)
2021-04-05 07:46:00 [http-nio-8888-exec-3] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [pisibg.model.dto.userDTO.UserLoginDTO@3d651b06]
2021-04-05 07:46:00 [http-nio-8888-exec-3] TRACE o.s.web.method.HandlerMethod - Arguments: [pisibg.model.dto.userDTO.UserLoginDTO@3d651b06, org.apache.catalina.session.StandardSessionFacade@68efcf8e]
2021-04-05 07:46:01 [http-nio-8888-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-04-05 07:46:01 [http-nio-8888-exec-3] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [pisibg.model.dto.userDTO.UserWithoutPassDTO@726b5ee3]
2021-04-05 07:46:01 [http-nio-8888-exec-3] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2021-04-05 07:46:01 [http-nio-8888-exec-3] TRACE o.s.web.servlet.DispatcherServlet - No view rendering, null ModelAndView returned.
2021-04-05 07:46:01 [http-nio-8888-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK, headers={masked}
2021-04-05 07:46:06 [http-nio-8888-exec-4] TRACE o.s.web.servlet.DispatcherServlet - POST "/images/product/7", parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'
2021-04-05 07:46:06 [http-nio-8888-exec-4] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to pisibg.controller.ImageController#upload(int, HttpSession, MultipartFile)
2021-04-05 07:46:06 [http-nio-8888-exec-4] TRACE o.s.web.method.HandlerMethod - Arguments: [7, org.apache.catalina.session.StandardSessionFacade@68efcf8e, org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@5f151ac3]
2021-04-05 07:46:06 [http-nio-8888-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler pisibg.controller.ImageController#handleBadRequest(BadRequestException)
2021-04-05 07:46:06 [http-nio-8888-exec-4] TRACE o.s.web.method.HandlerMethod - Arguments: [pisibg.exceptions.BadRequestException: The file you try to upload is not an image file]
2021-04-05 07:46:06 [http-nio-8888-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2021-04-05 07:46:06 [http-nio-8888-exec-4] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [pisibg.model.dto.ErrorDTO@19f3f15e]
2021-04-05 07:46:06 [http-nio-8888-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [pisibg.exceptions.BadRequestException: The file you try to upload is not an image file]
2021-04-05 07:46:06 [http-nio-8888-exec-4] TRACE o.s.web.servlet.DispatcherServlet - No view rendering, null ModelAndView returned.
2021-04-05 07:46:06 [http-nio-8888-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST, headers={masked}
2021-04-05 07:48:45 [http-nio-8888-exec-6] TRACE o.s.web.servlet.DispatcherServlet - POST "/images/product/7", parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'
2021-04-05 07:48:45 [http-nio-8888-exec-6] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to pisibg.controller.ImageController#upload(int, HttpSession, MultipartFile)
2021-04-05 07:48:45 [http-nio-8888-exec-6] TRACE o.s.web.method.HandlerMethod - Arguments: [7, org.apache.catalina.session.StandardSessionFacade@68efcf8e, org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@64b5caef]
2021-04-05 07:48:45 [http-nio-8888-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler pisibg.controller.ImageController#handleBadRequest(BadRequestException)
2021-04-05 07:48:45 [http-nio-8888-exec-6] TRACE o.s.web.method.HandlerMethod - Arguments: [pisibg.exceptions.BadRequestException: The file you try to upload is not an image file]
2021-04-05 07:48:45 [http-nio-8888-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2021-04-05 07:48:45 [http-nio-8888-exec-6] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [pisibg.model.dto.ErrorDTO@1ec3219e]
2021-04-05 07:48:45 [http-nio-8888-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [pisibg.exceptions.BadRequestException: The file you try to upload is not an image file]
2021-04-05 07:48:45 [http-nio-8888-exec-6] TRACE o.s.web.servlet.DispatcherServlet - No view rendering, null ModelAndView returned.
2021-04-05 07:48:45 [http-nio-8888-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST, headers={masked}
2021-04-05 07:49:27 [http-nio-8888-exec-8] TRACE o.s.web.servlet.DispatcherServlet - POST "/images/product/8", parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'
2021-04-05 07:49:27 [http-nio-8888-exec-8] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to pisibg.controller.ImageController#upload(int, HttpSession, MultipartFile)
2021-04-05 07:49:27 [http-nio-8888-exec-8] TRACE o.s.web.method.HandlerMethod - Arguments: [8, org.apache.catalina.session.StandardSessionFacade@68efcf8e, org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@c5698d0]
2021-04-05 07:49:27 [http-nio-8888-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler pisibg.controller.ImageController#handleBadRequest(BadRequestException)
2021-04-05 07:49:27 [http-nio-8888-exec-8] TRACE o.s.web.method.HandlerMethod - Arguments: [pisibg.exceptions.BadRequestException: The file you try to upload is not an image file]
2021-04-05 07:49:27 [http-nio-8888-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2021-04-05 07:49:27 [http-nio-8888-exec-8] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [pisibg.model.dto.ErrorDTO@4a31b0f4]
2021-04-05 07:49:27 [http-nio-8888-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [pisibg.exceptions.BadRequestException: The file you try to upload is not an image file]
2021-04-05 07:49:27 [http-nio-8888-exec-8] TRACE o.s.web.servlet.DispatcherServlet - No view rendering, null ModelAndView returned.
2021-04-05 07:49:27 [http-nio-8888-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST, headers={masked}
2021-04-05 07:49:33 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2021-04-05 07:49:33 [SpringContextShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-04-05 07:49:33 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-04-05 07:49:33 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-04-05 07:49:39 [restartedMain] INFO  pisibg.PisibgApplication - Starting PisibgApplication using Java 15.0.2 on MacBook-Pro.local with PID 862 (/Users/admin/Documents/IT Talents/pisi_bg/target/classes started by admin in /Users/admin/Documents/IT Talents/pisi_bg)
2021-04-05 07:49:39 [restartedMain] INFO  pisibg.PisibgApplication - The following profiles are active: hristo
2021-04-05 07:49:39 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-04-05 07:49:39 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-04-05 07:49:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-04-05 07:49:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 113 ms. Found 11 JPA repository interfaces.
2021-04-05 07:49:41 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8888 (http)
2021-04-05 07:49:41 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-04-05 07:49:41 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.44]
2021-04-05 07:49:41 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-04-05 07:49:41 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2117 ms
2021-04-05 07:49:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-04-05 07:49:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-04-05 07:49:42 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-04-05 07:49:43 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-04-05 07:49:43 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.CartController:
	{DELETE [/cart/all]}: emptyCart(HttpSession)
	{GET [/cart]}: checkout(HttpSession)
	{PUT [/cart]}: addProduct(ProductOrderRequestDTO,HttpSession)
	{DELETE [/cart]}: removeProduct(ProductOrderRequestDTO,HttpSession)
2021-04-05 07:49:43 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.CategoryController:
	{POST [/categories]}: add(HttpSession,CategoryRequestDTO)
	{GET [/categories]}: getAll()
	{PUT [/categories]}: edit(HttpSession,CategoryEditRequestDTO)
	{GET [/categories/{id}]}: getById(int)
2021-04-05 07:49:43 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.DiscountController:
	{POST [/discounts]}: add(HttpSession,DiscountRequestDTO)
	{GET [/discounts]}: getAll()
	{PUT [/discounts]}: edit(HttpSession,DiscountEditRequestDTO)
	{GET [/discounts/{id}]}: getById(int)
2021-04-05 07:49:43 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.ImageController:
	{POST [/images/product/{product_id}]}: upload(int,HttpSession,MultipartFile)
	{GET [/images/{id}], produces [image/*]}: download(int)
2021-04-05 07:49:43 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.ManufacturerController:
	{POST [/manufacturers]}: add(ManufacturerRequestDTO,HttpSession)
	{GET [/manufacturers]}: getAll()
	{GET [/manufacturers/{id}]}: getById(int)
	{PUT [/manufacturers]}: editManufacturer(HttpSession,ManufacturerEditRequestDTO)
2021-04-05 07:49:43 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.OrderController:
	{PUT [/pay]}: pay(HttpSession,OrderRequestDTO)
2021-04-05 07:49:43 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.OrderStatusController:
	{POST [/users/orderstatus]}: add(HttpSession,OrderStatusRequestDTO)
	{GET [/users/orderstatus]}: getAll(HttpSession)
	{PUT [/users/orderstatus]}: edit(HttpSession,OrderStatusEditDTO)
	{GET [/users/orderstatus/{order_id}]}: getById(int,HttpSession)
2021-04-05 07:49:43 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.PaymentMethodController:
	{GET [/paymentmethod]}: getAll(HttpSession)
	{PUT [/paymentmethod]}: edit(HttpSession,PaymentMethodEditDTO)
	{GET [/paymentmethod/{id}]}: getById(int,HttpSession)
	{POST [/paymentmethod]}: addPaymentMethod(HttpSession,PaymentMethodRequestDTO)
2021-04-05 07:49:43 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.ProductController:
	{POST [/products]}: add(HttpSession,ProductRequestDTO)
	{POST [/products/filter]}: getAll(ProductFilterRequestDTO)
	{PUT [/products]}: edit(HttpSession,ProductEditRequestDTO)
	{GET [/products/{id}/admin]}: getById(int,HttpSession)
	{GET [/products/{id}]}: getById(int)
	{DELETE [/products]}: deleteProduct(HttpSession,ProductDeleteRequestDTO)
	{POST [/products/filter/admin]}: getAllAdmin(HttpSession,ProductFilterRequestDTO)
2021-04-05 07:49:43 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.SubCategoryController:
	{GET [/subcategories]}: getAll()
	{PUT [/subcategories]}: edit(HttpSession,SubCategoryEditRequestDTO)
	{GET [/subcategories/{id}]}: getById(int)
	{POST [/subcategories]}: addNewSubcategory(HttpSession,SubCategoryRequestDTO)
2021-04-05 07:49:43 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.UserController:
	{POST [/users]}: register(UserRegisterRequestDTO)
	{GET [/users/{id}]}: getById(int,HttpSession)
	{PUT [/users]}: login(UserLoginDTO,HttpSession)
	{POST [/admins/{id_user}]}: makeAdmin(int,HttpSession)
	{PUT [/admins/{id_user}]}: removeAdmin(int,HttpSession)
	{DELETE [/admins/{user_id}]}: deleteUser(int,HttpSession)
	{POST [/admins/users]}: getAllUsers(UserReportRequestDTO,HttpSession)
	{POST [/admins/daily]}: getDailyOrders(OrderDailyReportRequestDTO,HttpSession)
	{POST [/admins/monthly]}: getMonthlyOrders(OrderMonthlyReportRequestDTO,HttpSession)
	{POST [/admins/yearly]}: getYearlyOrders(OrderYearlyReportRequestDTO,HttpSession)
	{PUT [/users/order]}: editOrder(OrderEditRequestDTO,HttpSession)
	{DELETE [/users/{id}]}: softDelete(int,HttpSession)
	{POST [/logout]}: logout(HttpSession)
	{PUT [/users/edit]}: editUser(UserEditRequestDTO,HttpSession)
	{POST [/users/edit]}: editPasswordUser(UserEditPasswordDTO,HttpSession)
2021-04-05 07:49:43 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	s.d.s.w.Swagger2ControllerWebMvc:
	{GET [/v2/api-docs], produces [application/json || application/hal+json]}: getDocumentation(String,HttpServletRequest)
2021-04-05 07:49:43 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	s.d.s.w.ApiResourceController:
	{GET [/swagger-resources/configuration/security], produces [application/json]}: securityConfiguration()
	{GET [/swagger-resources/configuration/ui], produces [application/json]}: uiConfiguration()
	{GET [/swagger-resources], produces [application/json]}: swaggerResources()
2021-04-05 07:49:43 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	s.d.o.w.OpenApiControllerWebMvc:
	{GET [/v3/api-docs], produces [application/json || application/hal+json]}: getDocumentation(String,HttpServletRequest)
2021-04-05 07:49:43 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2021-04-05 07:49:43 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 60 mappings in 'requestMappingHandlerMapping'
2021-04-05 07:49:44 [restartedMain] INFO  o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2021-04-05 07:49:44 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2021-04-05 07:49:44 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-04-05 07:49:44 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/swagger-ui/] onto ParameterizableViewController [view="forward:/swagger-ui/index.html"]
2021-04-05 07:49:44 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-04-05 07:49:44 [restartedMain] DEBUG o.s.w.s.h.BeanNameUrlHandlerMapping - Detected 0 mappings in 'beanNameHandlerMapping'
2021-04-05 07:49:44 [restartedMain] TRACE o.s.w.s.f.s.RouterFunctionMapping - 0 RouterFunction(s) in 'routerFunctionMapping'
2021-04-05 07:49:44 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/explorer/**] onto ResourceHttpRequestHandler [Classpath [META-INF/spring-data-rest/hal-explorer/]]
2021-04-05 07:49:44 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/swagger-ui/**] onto ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-04-05 07:49:44 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/webjars/**] onto ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/]]
2021-04-05 07:49:44 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/**] onto ResourceHttpRequestHandler [Classpath [META-INF/resources/], Classpath [resources/], Classpath [static/], Classpath [public/], ServletContext [/]]
2021-04-05 07:49:44 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/explorer/**, /swagger-ui/**, /webjars/**, /**] in 'resourceHandlerMapping'
2021-04-05 07:49:44 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2021-04-05 07:49:44 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8888 (http) with context path ''
2021-04-05 07:49:46 [restartedMain] INFO  pisibg.PisibgApplication - Started PisibgApplication in 8.331 seconds (JVM running for 9.428)
2021-04-05 07:50:07 [http-nio-8888-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-04-05 07:50:07 [http-nio-8888-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2021-04-05 07:50:07 [http-nio-8888-exec-1] TRACE o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.multipart.support.StandardServletMultipartResolver@5f67ad06
2021-04-05 07:50:07 [http-nio-8888-exec-1] TRACE o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver@9a1cbf2
2021-04-05 07:50:07 [http-nio-8888-exec-1] TRACE o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.theme.FixedThemeResolver@9bbc839
2021-04-05 07:50:07 [http-nio-8888-exec-1] TRACE o.s.web.servlet.DispatcherServlet - Detected DefaultRequestToViewNameTranslator
2021-04-05 07:50:07 [http-nio-8888-exec-1] TRACE o.s.web.servlet.DispatcherServlet - Detected SessionFlashMapManager
2021-04-05 07:50:07 [http-nio-8888-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-04-05 07:50:07 [http-nio-8888-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2021-04-05 07:50:07 [http-nio-8888-exec-1] TRACE o.s.web.servlet.DispatcherServlet - PUT "/users", parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'
2021-04-05 07:50:07 [http-nio-8888-exec-1] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to pisibg.controller.UserController#login(UserLoginDTO, HttpSession)
2021-04-05 07:50:08 [http-nio-8888-exec-1] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [pisibg.model.dto.userDTO.UserLoginDTO@3983648a]
2021-04-05 07:50:08 [http-nio-8888-exec-1] TRACE o.s.web.method.HandlerMethod - Arguments: [pisibg.model.dto.userDTO.UserLoginDTO@3983648a, org.apache.catalina.session.StandardSessionFacade@79c27bd7]
2021-04-05 07:50:08 [http-nio-8888-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-04-05 07:50:08 [http-nio-8888-exec-1] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [pisibg.model.dto.userDTO.UserWithoutPassDTO@7f4857ce]
2021-04-05 07:50:08 [http-nio-8888-exec-1] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2021-04-05 07:50:08 [http-nio-8888-exec-1] TRACE o.s.web.servlet.DispatcherServlet - No view rendering, null ModelAndView returned.
2021-04-05 07:50:08 [http-nio-8888-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK, headers={masked}
2021-04-05 07:50:14 [http-nio-8888-exec-3] TRACE o.s.web.servlet.DispatcherServlet - POST "/images/product/8", parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'
2021-04-05 07:50:14 [http-nio-8888-exec-3] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to pisibg.controller.ImageController#upload(int, HttpSession, MultipartFile)
2021-04-05 07:50:14 [http-nio-8888-exec-3] TRACE o.s.web.method.HandlerMethod - Arguments: [8, org.apache.catalina.session.StandardSessionFacade@79c27bd7, org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@34b58c30]
2021-04-05 07:50:14 [http-nio-8888-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler pisibg.controller.ImageController#handleBadRequest(BadRequestException)
2021-04-05 07:50:14 [http-nio-8888-exec-3] TRACE o.s.web.method.HandlerMethod - Arguments: [pisibg.exceptions.BadRequestException: The file you try to upload is not an image file]
2021-04-05 07:50:14 [http-nio-8888-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2021-04-05 07:50:14 [http-nio-8888-exec-3] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [pisibg.model.dto.ErrorDTO@77ac6a26]
2021-04-05 07:50:14 [http-nio-8888-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [pisibg.exceptions.BadRequestException: The file you try to upload is not an image file]
2021-04-05 07:50:14 [http-nio-8888-exec-3] TRACE o.s.web.servlet.DispatcherServlet - No view rendering, null ModelAndView returned.
2021-04-05 07:50:14 [http-nio-8888-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST, headers={masked}
2021-04-05 07:50:53 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2021-04-05 07:50:53 [SpringContextShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-04-05 07:50:53 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-04-05 07:50:53 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-04-05 07:51:00 [restartedMain] INFO  pisibg.PisibgApplication - Starting PisibgApplication using Java 15.0.2 on MacBook-Pro.local with PID 868 (/Users/admin/Documents/IT Talents/pisi_bg/target/classes started by admin in /Users/admin/Documents/IT Talents/pisi_bg)
2021-04-05 07:51:00 [restartedMain] INFO  pisibg.PisibgApplication - The following profiles are active: hristo
2021-04-05 07:51:00 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-04-05 07:51:00 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-04-05 07:51:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-04-05 07:51:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 102 ms. Found 11 JPA repository interfaces.
2021-04-05 07:51:02 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8888 (http)
2021-04-05 07:51:02 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-04-05 07:51:02 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.44]
2021-04-05 07:51:02 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-04-05 07:51:02 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2104 ms
2021-04-05 07:51:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-04-05 07:51:03 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-04-05 07:51:04 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-04-05 07:51:05 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-04-05 07:51:05 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.CartController:
	{DELETE [/cart/all]}: emptyCart(HttpSession)
	{GET [/cart]}: checkout(HttpSession)
	{PUT [/cart]}: addProduct(ProductOrderRequestDTO,HttpSession)
	{DELETE [/cart]}: removeProduct(ProductOrderRequestDTO,HttpSession)
2021-04-05 07:51:05 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.CategoryController:
	{POST [/categories]}: add(HttpSession,CategoryRequestDTO)
	{GET [/categories]}: getAll()
	{PUT [/categories]}: edit(HttpSession,CategoryEditRequestDTO)
	{GET [/categories/{id}]}: getById(int)
2021-04-05 07:51:05 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.DiscountController:
	{POST [/discounts]}: add(HttpSession,DiscountRequestDTO)
	{GET [/discounts]}: getAll()
	{PUT [/discounts]}: edit(HttpSession,DiscountEditRequestDTO)
	{GET [/discounts/{id}]}: getById(int)
2021-04-05 07:51:05 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.ImageController:
	{POST [/images/product/{product_id}]}: upload(int,HttpSession,MultipartFile)
	{GET [/images/{id}], produces [image/*]}: download(int)
2021-04-05 07:51:05 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.ManufacturerController:
	{POST [/manufacturers]}: add(ManufacturerRequestDTO,HttpSession)
	{GET [/manufacturers]}: getAll()
	{GET [/manufacturers/{id}]}: getById(int)
	{PUT [/manufacturers]}: editManufacturer(HttpSession,ManufacturerEditRequestDTO)
2021-04-05 07:51:05 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.OrderController:
	{PUT [/pay]}: pay(HttpSession,OrderRequestDTO)
2021-04-05 07:51:05 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.OrderStatusController:
	{POST [/users/orderstatus]}: add(HttpSession,OrderStatusRequestDTO)
	{GET [/users/orderstatus]}: getAll(HttpSession)
	{PUT [/users/orderstatus]}: edit(HttpSession,OrderStatusEditDTO)
	{GET [/users/orderstatus/{order_id}]}: getById(int,HttpSession)
2021-04-05 07:51:05 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.PaymentMethodController:
	{GET [/paymentmethod]}: getAll(HttpSession)
	{PUT [/paymentmethod]}: edit(HttpSession,PaymentMethodEditDTO)
	{GET [/paymentmethod/{id}]}: getById(int,HttpSession)
	{POST [/paymentmethod]}: addPaymentMethod(HttpSession,PaymentMethodRequestDTO)
2021-04-05 07:51:05 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.ProductController:
	{POST [/products]}: add(HttpSession,ProductRequestDTO)
	{POST [/products/filter]}: getAll(ProductFilterRequestDTO)
	{PUT [/products]}: edit(HttpSession,ProductEditRequestDTO)
	{GET [/products/{id}/admin]}: getById(int,HttpSession)
	{GET [/products/{id}]}: getById(int)
	{DELETE [/products]}: deleteProduct(HttpSession,ProductDeleteRequestDTO)
	{POST [/products/filter/admin]}: getAllAdmin(HttpSession,ProductFilterRequestDTO)
2021-04-05 07:51:05 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.SubCategoryController:
	{GET [/subcategories]}: getAll()
	{PUT [/subcategories]}: edit(HttpSession,SubCategoryEditRequestDTO)
	{GET [/subcategories/{id}]}: getById(int)
	{POST [/subcategories]}: addNewSubcategory(HttpSession,SubCategoryRequestDTO)
2021-04-05 07:51:05 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.UserController:
	{POST [/users]}: register(UserRegisterRequestDTO)
	{GET [/users/{id}]}: getById(int,HttpSession)
	{PUT [/users]}: login(UserLoginDTO,HttpSession)
	{POST [/admins/{id_user}]}: makeAdmin(int,HttpSession)
	{PUT [/admins/{id_user}]}: removeAdmin(int,HttpSession)
	{DELETE [/admins/{user_id}]}: deleteUser(int,HttpSession)
	{POST [/admins/users]}: getAllUsers(UserReportRequestDTO,HttpSession)
	{POST [/admins/daily]}: getDailyOrders(OrderDailyReportRequestDTO,HttpSession)
	{POST [/admins/monthly]}: getMonthlyOrders(OrderMonthlyReportRequestDTO,HttpSession)
	{POST [/admins/yearly]}: getYearlyOrders(OrderYearlyReportRequestDTO,HttpSession)
	{PUT [/users/order]}: editOrder(OrderEditRequestDTO,HttpSession)
	{DELETE [/users/{id}]}: softDelete(int,HttpSession)
	{POST [/logout]}: logout(HttpSession)
	{PUT [/users/edit]}: editUser(UserEditRequestDTO,HttpSession)
	{POST [/users/edit]}: editPasswordUser(UserEditPasswordDTO,HttpSession)
2021-04-05 07:51:05 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	s.d.s.w.Swagger2ControllerWebMvc:
	{GET [/v2/api-docs], produces [application/json || application/hal+json]}: getDocumentation(String,HttpServletRequest)
2021-04-05 07:51:05 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	s.d.s.w.ApiResourceController:
	{GET [/swagger-resources/configuration/security], produces [application/json]}: securityConfiguration()
	{GET [/swagger-resources/configuration/ui], produces [application/json]}: uiConfiguration()
	{GET [/swagger-resources], produces [application/json]}: swaggerResources()
2021-04-05 07:51:05 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	s.d.o.w.OpenApiControllerWebMvc:
	{GET [/v3/api-docs], produces [application/json || application/hal+json]}: getDocumentation(String,HttpServletRequest)
2021-04-05 07:51:05 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2021-04-05 07:51:05 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 60 mappings in 'requestMappingHandlerMapping'
2021-04-05 07:51:06 [restartedMain] INFO  o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2021-04-05 07:51:06 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2021-04-05 07:51:06 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-04-05 07:51:06 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/swagger-ui/] onto ParameterizableViewController [view="forward:/swagger-ui/index.html"]
2021-04-05 07:51:06 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-04-05 07:51:06 [restartedMain] DEBUG o.s.w.s.h.BeanNameUrlHandlerMapping - Detected 0 mappings in 'beanNameHandlerMapping'
2021-04-05 07:51:06 [restartedMain] TRACE o.s.w.s.f.s.RouterFunctionMapping - 0 RouterFunction(s) in 'routerFunctionMapping'
2021-04-05 07:51:06 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/explorer/**] onto ResourceHttpRequestHandler [Classpath [META-INF/spring-data-rest/hal-explorer/]]
2021-04-05 07:51:06 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/swagger-ui/**] onto ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-04-05 07:51:06 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/webjars/**] onto ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/]]
2021-04-05 07:51:06 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/**] onto ResourceHttpRequestHandler [Classpath [META-INF/resources/], Classpath [resources/], Classpath [static/], Classpath [public/], ServletContext [/]]
2021-04-05 07:51:06 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/explorer/**, /swagger-ui/**, /webjars/**, /**] in 'resourceHandlerMapping'
2021-04-05 07:51:06 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2021-04-05 07:51:06 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8888 (http) with context path ''
2021-04-05 07:51:09 [restartedMain] INFO  pisibg.PisibgApplication - Started PisibgApplication in 9.625 seconds (JVM running for 12.184)
2021-04-05 07:51:20 [http-nio-8888-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-04-05 07:51:20 [http-nio-8888-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2021-04-05 07:51:20 [http-nio-8888-exec-2] TRACE o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.multipart.support.StandardServletMultipartResolver@7c5f6644
2021-04-05 07:51:20 [http-nio-8888-exec-2] TRACE o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver@3ca46287
2021-04-05 07:51:20 [http-nio-8888-exec-2] TRACE o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.theme.FixedThemeResolver@13d7aeaf
2021-04-05 07:51:20 [http-nio-8888-exec-2] TRACE o.s.web.servlet.DispatcherServlet - Detected DefaultRequestToViewNameTranslator
2021-04-05 07:51:20 [http-nio-8888-exec-2] TRACE o.s.web.servlet.DispatcherServlet - Detected SessionFlashMapManager
2021-04-05 07:51:20 [http-nio-8888-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-04-05 07:51:20 [http-nio-8888-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2021-04-05 07:51:20 [http-nio-8888-exec-2] TRACE o.s.web.servlet.DispatcherServlet - POST "/images/product/8", parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'
2021-04-05 07:51:20 [http-nio-8888-exec-2] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to pisibg.controller.ImageController#upload(int, HttpSession, MultipartFile)
2021-04-05 07:51:20 [http-nio-8888-exec-2] TRACE o.s.web.method.HandlerMethod - Arguments: [8, org.apache.catalina.session.StandardSessionFacade@6aa90c2e, org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@716351ec]
2021-04-05 07:51:20 [http-nio-8888-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler pisibg.controller.ImageController#handleAuthentication(AuthenticationException)
2021-04-05 07:51:20 [http-nio-8888-exec-2] TRACE o.s.web.method.HandlerMethod - Arguments: [pisibg.exceptions.AuthenticationException: You have to log in!]
2021-04-05 07:51:20 [http-nio-8888-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2021-04-05 07:51:20 [http-nio-8888-exec-2] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [pisibg.model.dto.ErrorDTO@2b8435fb]
2021-04-05 07:51:21 [http-nio-8888-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [pisibg.exceptions.AuthenticationException: You have to log in!]
2021-04-05 07:51:21 [http-nio-8888-exec-2] TRACE o.s.web.servlet.DispatcherServlet - No view rendering, null ModelAndView returned.
2021-04-05 07:51:21 [http-nio-8888-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 401 UNAUTHORIZED, headers={masked}
2021-04-05 07:51:25 [http-nio-8888-exec-3] TRACE o.s.web.servlet.DispatcherServlet - PUT "/users", parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'
2021-04-05 07:51:25 [http-nio-8888-exec-3] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to pisibg.controller.UserController#login(UserLoginDTO, HttpSession)
2021-04-05 07:51:25 [http-nio-8888-exec-3] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [pisibg.model.dto.userDTO.UserLoginDTO@6e52d38a]
2021-04-05 07:51:25 [http-nio-8888-exec-3] TRACE o.s.web.method.HandlerMethod - Arguments: [pisibg.model.dto.userDTO.UserLoginDTO@6e52d38a, org.apache.catalina.session.StandardSessionFacade@6aa90c2e]
2021-04-05 07:51:33 [http-nio-8888-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-04-05 07:51:33 [http-nio-8888-exec-3] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [pisibg.model.dto.userDTO.UserWithoutPassDTO@636c8f74]
2021-04-05 07:51:33 [http-nio-8888-exec-3] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2021-04-05 07:51:33 [http-nio-8888-exec-3] TRACE o.s.web.servlet.DispatcherServlet - No view rendering, null ModelAndView returned.
2021-04-05 07:51:33 [http-nio-8888-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK, headers={masked}
2021-04-05 07:51:33 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2021-04-05 07:51:33 [SpringContextShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-04-05 07:51:33 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-04-05 07:51:33 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-04-05 07:51:40 [restartedMain] INFO  pisibg.PisibgApplication - Starting PisibgApplication using Java 15.0.2 on MacBook-Pro.local with PID 874 (/Users/admin/Documents/IT Talents/pisi_bg/target/classes started by admin in /Users/admin/Documents/IT Talents/pisi_bg)
2021-04-05 07:51:40 [restartedMain] INFO  pisibg.PisibgApplication - The following profiles are active: hristo
2021-04-05 07:51:40 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-04-05 07:51:40 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-04-05 07:51:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-04-05 07:51:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 116 ms. Found 11 JPA repository interfaces.
2021-04-05 07:51:42 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8888 (http)
2021-04-05 07:51:42 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-04-05 07:51:42 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.44]
2021-04-05 07:51:42 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-04-05 07:51:42 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2073 ms
2021-04-05 07:51:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-04-05 07:51:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-04-05 07:51:43 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-04-05 07:51:45 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-04-05 07:51:45 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.CartController:
	{DELETE [/cart/all]}: emptyCart(HttpSession)
	{GET [/cart]}: checkout(HttpSession)
	{PUT [/cart]}: addProduct(ProductOrderRequestDTO,HttpSession)
	{DELETE [/cart]}: removeProduct(ProductOrderRequestDTO,HttpSession)
2021-04-05 07:51:45 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.CategoryController:
	{POST [/categories]}: add(HttpSession,CategoryRequestDTO)
	{GET [/categories]}: getAll()
	{PUT [/categories]}: edit(HttpSession,CategoryEditRequestDTO)
	{GET [/categories/{id}]}: getById(int)
2021-04-05 07:51:45 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.DiscountController:
	{POST [/discounts]}: add(HttpSession,DiscountRequestDTO)
	{GET [/discounts]}: getAll()
	{PUT [/discounts]}: edit(HttpSession,DiscountEditRequestDTO)
	{GET [/discounts/{id}]}: getById(int)
2021-04-05 07:51:45 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.ImageController:
	{POST [/images/product/{product_id}]}: upload(int,HttpSession,MultipartFile)
	{GET [/images/{id}], produces [image/*]}: download(int)
2021-04-05 07:51:45 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.ManufacturerController:
	{POST [/manufacturers]}: add(ManufacturerRequestDTO,HttpSession)
	{GET [/manufacturers]}: getAll()
	{GET [/manufacturers/{id}]}: getById(int)
	{PUT [/manufacturers]}: editManufacturer(HttpSession,ManufacturerEditRequestDTO)
2021-04-05 07:51:45 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.OrderController:
	{PUT [/pay]}: pay(HttpSession,OrderRequestDTO)
2021-04-05 07:51:45 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.OrderStatusController:
	{POST [/users/orderstatus]}: add(HttpSession,OrderStatusRequestDTO)
	{GET [/users/orderstatus]}: getAll(HttpSession)
	{PUT [/users/orderstatus]}: edit(HttpSession,OrderStatusEditDTO)
	{GET [/users/orderstatus/{order_id}]}: getById(int,HttpSession)
2021-04-05 07:51:45 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.PaymentMethodController:
	{GET [/paymentmethod]}: getAll(HttpSession)
	{PUT [/paymentmethod]}: edit(HttpSession,PaymentMethodEditDTO)
	{GET [/paymentmethod/{id}]}: getById(int,HttpSession)
	{POST [/paymentmethod]}: addPaymentMethod(HttpSession,PaymentMethodRequestDTO)
2021-04-05 07:51:45 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.ProductController:
	{POST [/products]}: add(HttpSession,ProductRequestDTO)
	{POST [/products/filter]}: getAll(ProductFilterRequestDTO)
	{PUT [/products]}: edit(HttpSession,ProductEditRequestDTO)
	{GET [/products/{id}/admin]}: getById(int,HttpSession)
	{GET [/products/{id}]}: getById(int)
	{DELETE [/products]}: deleteProduct(HttpSession,ProductDeleteRequestDTO)
	{POST [/products/filter/admin]}: getAllAdmin(HttpSession,ProductFilterRequestDTO)
2021-04-05 07:51:45 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.SubCategoryController:
	{GET [/subcategories]}: getAll()
	{PUT [/subcategories]}: edit(HttpSession,SubCategoryEditRequestDTO)
	{GET [/subcategories/{id}]}: getById(int)
	{POST [/subcategories]}: addNewSubcategory(HttpSession,SubCategoryRequestDTO)
2021-04-05 07:51:45 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.UserController:
	{POST [/users]}: register(UserRegisterRequestDTO)
	{GET [/users/{id}]}: getById(int,HttpSession)
	{PUT [/users]}: login(UserLoginDTO,HttpSession)
	{POST [/admins/{id_user}]}: makeAdmin(int,HttpSession)
	{PUT [/admins/{id_user}]}: removeAdmin(int,HttpSession)
	{DELETE [/admins/{user_id}]}: deleteUser(int,HttpSession)
	{POST [/admins/users]}: getAllUsers(UserReportRequestDTO,HttpSession)
	{POST [/admins/daily]}: getDailyOrders(OrderDailyReportRequestDTO,HttpSession)
	{POST [/admins/monthly]}: getMonthlyOrders(OrderMonthlyReportRequestDTO,HttpSession)
	{POST [/admins/yearly]}: getYearlyOrders(OrderYearlyReportRequestDTO,HttpSession)
	{PUT [/users/order]}: editOrder(OrderEditRequestDTO,HttpSession)
	{DELETE [/users/{id}]}: softDelete(int,HttpSession)
	{POST [/logout]}: logout(HttpSession)
	{PUT [/users/edit]}: editUser(UserEditRequestDTO,HttpSession)
	{POST [/users/edit]}: editPasswordUser(UserEditPasswordDTO,HttpSession)
2021-04-05 07:51:45 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	s.d.s.w.Swagger2ControllerWebMvc:
	{GET [/v2/api-docs], produces [application/json || application/hal+json]}: getDocumentation(String,HttpServletRequest)
2021-04-05 07:51:45 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	s.d.s.w.ApiResourceController:
	{GET [/swagger-resources/configuration/security], produces [application/json]}: securityConfiguration()
	{GET [/swagger-resources/configuration/ui], produces [application/json]}: uiConfiguration()
	{GET [/swagger-resources], produces [application/json]}: swaggerResources()
2021-04-05 07:51:45 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	s.d.o.w.OpenApiControllerWebMvc:
	{GET [/v3/api-docs], produces [application/json || application/hal+json]}: getDocumentation(String,HttpServletRequest)
2021-04-05 07:51:45 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2021-04-05 07:51:45 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 60 mappings in 'requestMappingHandlerMapping'
2021-04-05 07:51:45 [restartedMain] INFO  o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2021-04-05 07:51:45 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2021-04-05 07:51:45 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-04-05 07:51:46 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/swagger-ui/] onto ParameterizableViewController [view="forward:/swagger-ui/index.html"]
2021-04-05 07:51:46 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-04-05 07:51:46 [restartedMain] DEBUG o.s.w.s.h.BeanNameUrlHandlerMapping - Detected 0 mappings in 'beanNameHandlerMapping'
2021-04-05 07:51:46 [restartedMain] TRACE o.s.w.s.f.s.RouterFunctionMapping - 0 RouterFunction(s) in 'routerFunctionMapping'
2021-04-05 07:51:46 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/explorer/**] onto ResourceHttpRequestHandler [Classpath [META-INF/spring-data-rest/hal-explorer/]]
2021-04-05 07:51:46 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/swagger-ui/**] onto ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-04-05 07:51:46 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/webjars/**] onto ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/]]
2021-04-05 07:51:46 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/**] onto ResourceHttpRequestHandler [Classpath [META-INF/resources/], Classpath [resources/], Classpath [static/], Classpath [public/], ServletContext [/]]
2021-04-05 07:51:46 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/explorer/**, /swagger-ui/**, /webjars/**, /**] in 'resourceHandlerMapping'
2021-04-05 07:51:46 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2021-04-05 07:51:46 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8888 (http) with context path ''
2021-04-05 07:51:49 [restartedMain] INFO  pisibg.PisibgApplication - Started PisibgApplication in 9.344 seconds (JVM running for 10.496)
2021-04-05 07:52:05 [http-nio-8888-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-04-05 07:52:05 [http-nio-8888-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2021-04-05 07:52:05 [http-nio-8888-exec-2] TRACE o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.multipart.support.StandardServletMultipartResolver@3882acfb
2021-04-05 07:52:05 [http-nio-8888-exec-2] TRACE o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver@3a9ef5f
2021-04-05 07:52:05 [http-nio-8888-exec-2] TRACE o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.theme.FixedThemeResolver@c64c7aa
2021-04-05 07:52:05 [http-nio-8888-exec-2] TRACE o.s.web.servlet.DispatcherServlet - Detected DefaultRequestToViewNameTranslator
2021-04-05 07:52:05 [http-nio-8888-exec-2] TRACE o.s.web.servlet.DispatcherServlet - Detected SessionFlashMapManager
2021-04-05 07:52:05 [http-nio-8888-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-04-05 07:52:05 [http-nio-8888-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2021-04-05 07:52:05 [http-nio-8888-exec-2] TRACE o.s.web.servlet.DispatcherServlet - PUT "/users", parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'
2021-04-05 07:52:05 [http-nio-8888-exec-2] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to pisibg.controller.UserController#login(UserLoginDTO, HttpSession)
2021-04-05 07:52:05 [http-nio-8888-exec-2] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [pisibg.model.dto.userDTO.UserLoginDTO@3fcfc26e]
2021-04-05 07:52:05 [http-nio-8888-exec-2] TRACE o.s.web.method.HandlerMethod - Arguments: [pisibg.model.dto.userDTO.UserLoginDTO@3fcfc26e, org.apache.catalina.session.StandardSessionFacade@75a90362]
2021-04-05 07:52:05 [http-nio-8888-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-04-05 07:52:05 [http-nio-8888-exec-2] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [pisibg.model.dto.userDTO.UserWithoutPassDTO@76a92b66]
2021-04-05 07:52:05 [http-nio-8888-exec-2] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2021-04-05 07:52:05 [http-nio-8888-exec-2] TRACE o.s.web.servlet.DispatcherServlet - No view rendering, null ModelAndView returned.
2021-04-05 07:52:05 [http-nio-8888-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK, headers={masked}
2021-04-05 07:52:11 [http-nio-8888-exec-3] TRACE o.s.web.servlet.DispatcherServlet - POST "/images/product/8", parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'
2021-04-05 07:52:11 [http-nio-8888-exec-3] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to pisibg.controller.ImageController#upload(int, HttpSession, MultipartFile)
2021-04-05 07:52:11 [http-nio-8888-exec-3] TRACE o.s.web.method.HandlerMethod - Arguments: [8, org.apache.catalina.session.StandardSessionFacade@75a90362, org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@310349bb]
2021-04-05 07:53:10 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=50s349ms).
2021-04-05 07:53:10 [http-nio-8888-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler pisibg.controller.ImageController#handleBadRequest(BadRequestException)
2021-04-05 07:53:10 [http-nio-8888-exec-3] TRACE o.s.web.method.HandlerMethod - Arguments: [pisibg.exceptions.BadRequestException: The file you try to upload is not an image file]
2021-04-05 07:53:10 [http-nio-8888-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2021-04-05 07:53:10 [http-nio-8888-exec-3] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [pisibg.model.dto.ErrorDTO@68192003]
2021-04-05 07:53:11 [http-nio-8888-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [pisibg.exceptions.BadRequestException: The file you try to upload is not an image file]
2021-04-05 07:53:11 [http-nio-8888-exec-3] TRACE o.s.web.servlet.DispatcherServlet - No view rendering, null ModelAndView returned.
2021-04-05 07:53:11 [http-nio-8888-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST, headers={masked}
2021-04-05 07:53:11 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2021-04-05 07:53:11 [SpringContextShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-04-05 07:53:11 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-04-05 07:53:11 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-04-05 08:25:39 [restartedMain] INFO  pisibg.PisibgApplication - Starting PisibgApplication using Java 15.0.2 on MacBook-Pro.local with PID 965 (/Users/admin/Documents/IT Talents/pisi_bg/target/classes started by admin in /Users/admin/Documents/IT Talents/pisi_bg)
2021-04-05 08:25:39 [restartedMain] INFO  pisibg.PisibgApplication - The following profiles are active: hristo
2021-04-05 08:25:39 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-04-05 08:25:39 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-04-05 08:25:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-04-05 08:25:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 98 ms. Found 11 JPA repository interfaces.
2021-04-05 08:25:41 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8888 (http)
2021-04-05 08:25:41 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-04-05 08:25:41 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.44]
2021-04-05 08:25:41 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-04-05 08:25:41 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2083 ms
2021-04-05 08:25:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-04-05 08:25:41 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-04-05 08:25:42 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-04-05 08:25:44 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-04-05 08:25:44 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.CartController:
	{DELETE [/cart/all]}: emptyCart(HttpSession)
	{GET [/cart]}: checkout(HttpSession)
	{PUT [/cart]}: addProduct(ProductOrderRequestDTO,HttpSession)
	{DELETE [/cart]}: removeProduct(ProductOrderRequestDTO,HttpSession)
2021-04-05 08:25:44 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.CategoryController:
	{POST [/categories]}: add(HttpSession,CategoryRequestDTO)
	{GET [/categories]}: getAll()
	{PUT [/categories]}: edit(HttpSession,CategoryEditRequestDTO)
	{GET [/categories/{id}]}: getById(int)
2021-04-05 08:25:44 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.DiscountController:
	{POST [/discounts]}: add(HttpSession,DiscountRequestDTO)
	{GET [/discounts]}: getAll()
	{PUT [/discounts]}: edit(HttpSession,DiscountEditRequestDTO)
	{GET [/discounts/{id}]}: getById(int)
2021-04-05 08:25:44 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.ImageController:
	{POST [/images/product/{product_id}]}: upload(int,HttpSession,MultipartFile)
	{GET [/images/{id}], produces [image/*]}: download(int)
2021-04-05 08:25:44 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.ManufacturerController:
	{POST [/manufacturers]}: add(ManufacturerRequestDTO,HttpSession)
	{GET [/manufacturers]}: getAll()
	{GET [/manufacturers/{id}]}: getById(int)
	{PUT [/manufacturers]}: editManufacturer(HttpSession,ManufacturerEditRequestDTO)
2021-04-05 08:25:44 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.OrderController:
	{PUT [/pay]}: pay(HttpSession,OrderRequestDTO)
2021-04-05 08:25:44 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.OrderStatusController:
	{POST [/users/orderstatus]}: add(HttpSession,OrderStatusRequestDTO)
	{GET [/users/orderstatus]}: getAll(HttpSession)
	{PUT [/users/orderstatus]}: edit(HttpSession,OrderStatusEditDTO)
	{GET [/users/orderstatus/{order_id}]}: getById(int,HttpSession)
2021-04-05 08:25:44 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.PaymentMethodController:
	{GET [/paymentmethod]}: getAll(HttpSession)
	{PUT [/paymentmethod]}: edit(HttpSession,PaymentMethodEditDTO)
	{GET [/paymentmethod/{id}]}: getById(int,HttpSession)
	{POST [/paymentmethod]}: addPaymentMethod(HttpSession,PaymentMethodRequestDTO)
2021-04-05 08:25:44 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.ProductController:
	{POST [/products]}: add(HttpSession,ProductRequestDTO)
	{POST [/products/filter]}: getAll(ProductFilterRequestDTO)
	{PUT [/products]}: edit(HttpSession,ProductEditRequestDTO)
	{GET [/products/{id}/admin]}: getById(int,HttpSession)
	{GET [/products/{id}]}: getById(int)
	{DELETE [/products]}: deleteProduct(HttpSession,ProductDeleteRequestDTO)
	{POST [/products/filter/admin]}: getAllAdmin(HttpSession,ProductFilterRequestDTO)
2021-04-05 08:25:44 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.SubCategoryController:
	{GET [/subcategories]}: getAll()
	{PUT [/subcategories]}: edit(HttpSession,SubCategoryEditRequestDTO)
	{GET [/subcategories/{id}]}: getById(int)
	{POST [/subcategories]}: addNewSubcategory(HttpSession,SubCategoryRequestDTO)
2021-04-05 08:25:44 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	p.c.UserController:
	{POST [/users]}: register(UserRegisterRequestDTO)
	{GET [/users/{id}]}: getById(int,HttpSession)
	{PUT [/users]}: login(UserLoginDTO,HttpSession)
	{POST [/admins/{id_user}]}: makeAdmin(int,HttpSession)
	{PUT [/admins/{id_user}]}: removeAdmin(int,HttpSession)
	{DELETE [/admins/{user_id}]}: deleteUser(int,HttpSession)
	{POST [/admins/users]}: getAllUsers(UserReportRequestDTO,HttpSession)
	{POST [/admins/daily]}: getDailyOrders(OrderDailyReportRequestDTO,HttpSession)
	{POST [/admins/monthly]}: getMonthlyOrders(OrderMonthlyReportRequestDTO,HttpSession)
	{POST [/admins/yearly]}: getYearlyOrders(OrderYearlyReportRequestDTO,HttpSession)
	{PUT [/users/order]}: editOrder(OrderEditRequestDTO,HttpSession)
	{DELETE [/users/{id}]}: softDelete(int,HttpSession)
	{POST [/logout]}: logout(HttpSession)
	{PUT [/users/edit]}: editUser(UserEditRequestDTO,HttpSession)
	{POST [/users/edit]}: editPasswordUser(UserEditPasswordDTO,HttpSession)
2021-04-05 08:25:44 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	s.d.s.w.Swagger2ControllerWebMvc:
	{GET [/v2/api-docs], produces [application/json || application/hal+json]}: getDocumentation(String,HttpServletRequest)
2021-04-05 08:25:44 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	s.d.s.w.ApiResourceController:
	{GET [/swagger-resources/configuration/security], produces [application/json]}: securityConfiguration()
	{GET [/swagger-resources/configuration/ui], produces [application/json]}: uiConfiguration()
	{GET [/swagger-resources], produces [application/json]}: swaggerResources()
2021-04-05 08:25:44 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	s.d.o.w.OpenApiControllerWebMvc:
	{GET [/v3/api-docs], produces [application/json || application/hal+json]}: getDocumentation(String,HttpServletRequest)
2021-04-05 08:25:44 [restartedMain] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2021-04-05 08:25:44 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 60 mappings in 'requestMappingHandlerMapping'
2021-04-05 08:25:44 [restartedMain] INFO  o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2021-04-05 08:25:44 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2021-04-05 08:25:44 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-04-05 08:25:44 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/swagger-ui/] onto ParameterizableViewController [view="forward:/swagger-ui/index.html"]
2021-04-05 08:25:44 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-04-05 08:25:44 [restartedMain] DEBUG o.s.w.s.h.BeanNameUrlHandlerMapping - Detected 0 mappings in 'beanNameHandlerMapping'
2021-04-05 08:25:44 [restartedMain] TRACE o.s.w.s.f.s.RouterFunctionMapping - 0 RouterFunction(s) in 'routerFunctionMapping'
2021-04-05 08:25:44 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/explorer/**] onto ResourceHttpRequestHandler [Classpath [META-INF/spring-data-rest/hal-explorer/]]
2021-04-05 08:25:44 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/swagger-ui/**] onto ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-04-05 08:25:44 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/webjars/**] onto ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/]]
2021-04-05 08:25:44 [restartedMain] TRACE o.s.w.s.h.SimpleUrlHandlerMapping - Mapped [/**] onto ResourceHttpRequestHandler [Classpath [META-INF/resources/], Classpath [resources/], Classpath [static/], Classpath [public/], ServletContext [/]]
2021-04-05 08:25:44 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/explorer/**, /swagger-ui/**, /webjars/**, /**] in 'resourceHandlerMapping'
2021-04-05 08:25:44 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2021-04-05 08:25:45 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8888 (http) with context path ''
2021-04-05 08:25:47 [restartedMain] INFO  pisibg.PisibgApplication - Started PisibgApplication in 8.834 seconds (JVM running for 9.893)
2021-04-05 08:25:53 [http-nio-8888-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-04-05 08:25:53 [http-nio-8888-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2021-04-05 08:25:53 [http-nio-8888-exec-1] TRACE o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.multipart.support.StandardServletMultipartResolver@6a4b2f61
2021-04-05 08:25:53 [http-nio-8888-exec-1] TRACE o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver@33b4f7d4
2021-04-05 08:25:53 [http-nio-8888-exec-1] TRACE o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.theme.FixedThemeResolver@1f3b0ea7
2021-04-05 08:25:53 [http-nio-8888-exec-1] TRACE o.s.web.servlet.DispatcherServlet - Detected DefaultRequestToViewNameTranslator
2021-04-05 08:25:53 [http-nio-8888-exec-1] TRACE o.s.web.servlet.DispatcherServlet - Detected SessionFlashMapManager
2021-04-05 08:25:53 [http-nio-8888-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-04-05 08:25:53 [http-nio-8888-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2021-04-05 08:25:53 [http-nio-8888-exec-1] TRACE o.s.web.servlet.DispatcherServlet - POST "/images/product/8", parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'
2021-04-05 08:25:53 [http-nio-8888-exec-1] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to pisibg.controller.ImageController#upload(int, HttpSession, MultipartFile)
2021-04-05 08:25:53 [http-nio-8888-exec-1] TRACE o.s.web.method.HandlerMethod - Arguments: [8, org.apache.catalina.session.StandardSessionFacade@5e4a0f54, org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@61287405]
2021-04-05 08:25:53 [http-nio-8888-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler pisibg.controller.ImageController#handleAuthentication(AuthenticationException)
2021-04-05 08:25:53 [http-nio-8888-exec-1] TRACE o.s.web.method.HandlerMethod - Arguments: [pisibg.exceptions.AuthenticationException: You have to log in!]
2021-04-05 08:25:53 [http-nio-8888-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2021-04-05 08:25:53 [http-nio-8888-exec-1] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [pisibg.model.dto.ErrorDTO@2967db7d]
2021-04-05 08:25:53 [http-nio-8888-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [pisibg.exceptions.AuthenticationException: You have to log in!]
2021-04-05 08:25:53 [http-nio-8888-exec-1] TRACE o.s.web.servlet.DispatcherServlet - No view rendering, null ModelAndView returned.
2021-04-05 08:25:53 [http-nio-8888-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 401 UNAUTHORIZED, headers={masked}
2021-04-05 08:25:59 [http-nio-8888-exec-3] TRACE o.s.web.servlet.DispatcherServlet - PUT "/users", parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'
2021-04-05 08:25:59 [http-nio-8888-exec-3] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to pisibg.controller.UserController#login(UserLoginDTO, HttpSession)
2021-04-05 08:25:59 [http-nio-8888-exec-3] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [pisibg.model.dto.userDTO.UserLoginDTO@71b77ac2]
2021-04-05 08:25:59 [http-nio-8888-exec-3] TRACE o.s.web.method.HandlerMethod - Arguments: [pisibg.model.dto.userDTO.UserLoginDTO@71b77ac2, org.apache.catalina.session.StandardSessionFacade@5e4a0f54]
2021-04-05 08:25:59 [http-nio-8888-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-04-05 08:25:59 [http-nio-8888-exec-3] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [pisibg.model.dto.userDTO.UserWithoutPassDTO@ebd3452]
2021-04-05 08:25:59 [http-nio-8888-exec-3] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2021-04-05 08:25:59 [http-nio-8888-exec-3] TRACE o.s.web.servlet.DispatcherServlet - No view rendering, null ModelAndView returned.
2021-04-05 08:25:59 [http-nio-8888-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK, headers={masked}
2021-04-05 08:26:04 [http-nio-8888-exec-4] TRACE o.s.web.servlet.DispatcherServlet - POST "/images/product/8", parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'
2021-04-05 08:26:04 [http-nio-8888-exec-4] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to pisibg.controller.ImageController#upload(int, HttpSession, MultipartFile)
2021-04-05 08:26:04 [http-nio-8888-exec-4] TRACE o.s.web.method.HandlerMethod - Arguments: [8, org.apache.catalina.session.StandardSessionFacade@5e4a0f54, org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@2c81676]
2021-04-05 08:26:05 [http-nio-8888-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-04-05 08:26:05 [http-nio-8888-exec-4] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [pisibg.model.pojo.Image@2a]
2021-04-05 08:26:05 [http-nio-8888-exec-4] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2021-04-05 08:26:05 [http-nio-8888-exec-4] TRACE o.s.web.servlet.DispatcherServlet - No view rendering, null ModelAndView returned.
2021-04-05 08:26:05 [http-nio-8888-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK, headers={masked}
2021-04-05 08:26:32 [http-nio-8888-exec-5] TRACE o.s.web.servlet.DispatcherServlet - POST "/images/product/8", parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'
2021-04-05 08:26:32 [http-nio-8888-exec-5] TRACE o.s.web.servlet.DispatcherServlet - Failed to complete request
org.springframework.web.multipart.MaxUploadSizeExceededException: Maximum upload size exceeded; nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.impl.FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1048576 bytes.
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.handleParseFailure(StandardMultipartHttpServletRequest.java:122)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:115)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.<init>(StandardMultipartHttpServletRequest.java:88)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:87)
	at org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1198)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1032)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:832)
Caused by: java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.impl.FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1048576 bytes.
	at org.apache.catalina.connector.Request.parseParts(Request.java:2966)
	at org.apache.catalina.connector.Request.parseParameters(Request.java:3255)
	at org.apache.catalina.connector.Request.getParameterNames(Request.java:1188)
	at org.apache.catalina.connector.Request.getParameterMap(Request.java:1167)
	at org.apache.catalina.connector.RequestFacade.getParameterMap(RequestFacade.java:443)
	at org.springframework.web.servlet.DispatcherServlet.lambda$logRequest$2(DispatcherServlet.java:984)
	at org.springframework.core.log.LogFormatUtils.traceDebug(LogFormatUtils.java:86)
	at org.springframework.web.servlet.DispatcherServlet.logRequest(DispatcherServlet.java:976)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:924)
	... 38 common frames omitted
Caused by: org.apache.tomcat.util.http.fileupload.impl.FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1048576 bytes.
	at org.apache.tomcat.util.http.fileupload.impl.FileItemStreamImpl$1.raiseError(FileItemStreamImpl.java:114)
	at org.apache.tomcat.util.http.fileupload.util.LimitedInputStream.checkLimit(LimitedInputStream.java:76)
	at org.apache.tomcat.util.http.fileupload.util.LimitedInputStream.read(LimitedInputStream.java:135)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:106)
	at org.apache.tomcat.util.http.fileupload.util.Streams.copy(Streams.java:98)
	at org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:291)
	at org.apache.catalina.connector.Request.parseParts(Request.java:2922)
	... 46 common frames omitted
2021-04-05 08:26:32 [http-nio-8888-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.multipart.MaxUploadSizeExceededException: Maximum upload size exceeded; nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.impl.FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1048576 bytes.] with root cause
org.apache.tomcat.util.http.fileupload.impl.FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1048576 bytes.
	at org.apache.tomcat.util.http.fileupload.impl.FileItemStreamImpl$1.raiseError(FileItemStreamImpl.java:114)
	at org.apache.tomcat.util.http.fileupload.util.LimitedInputStream.checkLimit(LimitedInputStream.java:76)
	at org.apache.tomcat.util.http.fileupload.util.LimitedInputStream.read(LimitedInputStream.java:135)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:106)
	at org.apache.tomcat.util.http.fileupload.util.Streams.copy(Streams.java:98)
	at org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:291)
	at org.apache.catalina.connector.Request.parseParts(Request.java:2922)
	at org.apache.catalina.connector.Request.parseParameters(Request.java:3255)
	at org.apache.catalina.connector.Request.getParameterNames(Request.java:1188)
	at org.apache.catalina.connector.Request.getParameterMap(Request.java:1167)
	at org.apache.catalina.connector.RequestFacade.getParameterMap(RequestFacade.java:443)
	at org.springframework.web.servlet.DispatcherServlet.lambda$logRequest$2(DispatcherServlet.java:984)
	at org.springframework.core.log.LogFormatUtils.traceDebug(LogFormatUtils.java:86)
	at org.springframework.web.servlet.DispatcherServlet.logRequest(DispatcherServlet.java:976)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:924)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:832)
2021-04-05 08:26:32 [http-nio-8888-exec-5] TRACE o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'
2021-04-05 08:26:32 [http-nio-8888-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Multipart resolution previously failed for current request - skipping re-resolution for undisturbed error rendering
2021-04-05 08:26:32 [http-nio-8888-exec-5] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2021-04-05 08:26:32 [http-nio-8888-exec-5] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-04-05 08:26:32 [http-nio-8888-exec-5] TRACE o.s.web.method.HandlerMethod - Arguments: [org.apache.catalina.core.ApplicationHttpRequest@5d67bc]
2021-04-05 08:26:32 [http-nio-8888-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-04-05 08:26:32 [http-nio-8888-exec-5] TRACE o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Mon Apr 05 08:26:32 EEST 2021, status=500, error=Internal Server Error, trace=org.springframework.web.multipart.MaxUploadSizeExceededException: Maximum upload size exceeded; nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.impl.FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1048576 bytes.
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.handleParseFailure(StandardMultipartHttpServletRequest.java:122)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:115)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.<init>(StandardMultipartHttpServletRequest.java:88)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:87)
	at org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1198)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1032)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:832)
Caused by: java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.impl.FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1048576 bytes.
	at org.apache.catalina.connector.Request.parseParts(Request.java:2966)
	at org.apache.catalina.connector.Request.parseParameters(Request.java:3255)
	at org.apache.catalina.connector.Request.getParameterNames(Request.java:1188)
	at org.apache.catalina.connector.Request.getParameterMap(Request.java:1167)
	at org.apache.catalina.connector.RequestFacade.getParameterMap(RequestFacade.java:443)
	at org.springframework.web.servlet.DispatcherServlet.lambda$logRequest$2(DispatcherServlet.java:984)
	at org.springframework.core.log.LogFormatUtils.traceDebug(LogFormatUtils.java:86)
	at org.springframework.web.servlet.DispatcherServlet.logRequest(DispatcherServlet.java:976)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:924)
	... 38 more
Caused by: org.apache.tomcat.util.http.fileupload.impl.FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1048576 bytes.
	at org.apache.tomcat.util.http.fileupload.impl.FileItemStreamImpl$1.raiseError(FileItemStreamImpl.java:114)
	at org.apache.tomcat.util.http.fileupload.util.LimitedInputStream.checkLimit(LimitedInputStream.java:76)
	at org.apache.tomcat.util.http.fileupload.util.LimitedInputStream.read(LimitedInputStream.java:135)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:106)
	at org.apache.tomcat.util.http.fileupload.util.Streams.copy(Streams.java:98)
	at org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:291)
	at org.apache.catalina.connector.Request.parseParts(Request.java:2922)
	... 46 more
, message=Maximum upload size exceeded; nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.impl.FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1048576 bytes., path=/images/product/8}]
2021-04-05 08:26:32 [http-nio-8888-exec-5] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2021-04-05 08:26:32 [http-nio-8888-exec-5] TRACE o.s.web.servlet.DispatcherServlet - No view rendering, null ModelAndView returned.
2021-04-05 08:26:32 [http-nio-8888-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500, headers={masked}
2021-04-05 08:26:50 [http-nio-8888-exec-7] TRACE o.s.web.servlet.DispatcherServlet - POST "/images/product/8", parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'
2021-04-05 08:26:50 [http-nio-8888-exec-7] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to pisibg.controller.ImageController#upload(int, HttpSession, MultipartFile)
2021-04-05 08:26:50 [http-nio-8888-exec-7] TRACE o.s.web.method.HandlerMethod - Arguments: [8, org.apache.catalina.session.StandardSessionFacade@5e4a0f54, org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@39e216ad]
2021-04-05 08:26:50 [http-nio-8888-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler pisibg.controller.ImageController#handleBadRequest(BadRequestException)
2021-04-05 08:26:50 [http-nio-8888-exec-7] TRACE o.s.web.method.HandlerMethod - Arguments: [pisibg.exceptions.BadRequestException: The file you try to upload is not an image file]
2021-04-05 08:26:50 [http-nio-8888-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2021-04-05 08:26:50 [http-nio-8888-exec-7] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [pisibg.model.dto.ErrorDTO@1e8bbee5]
2021-04-05 08:26:50 [http-nio-8888-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [pisibg.exceptions.BadRequestException: The file you try to upload is not an image file]
2021-04-05 08:26:50 [http-nio-8888-exec-7] TRACE o.s.web.servlet.DispatcherServlet - No view rendering, null ModelAndView returned.
2021-04-05 08:26:50 [http-nio-8888-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST, headers={masked}
2021-04-05 08:30:32 [http-nio-8888-exec-9] TRACE o.s.web.servlet.DispatcherServlet - POST "/images/product/8", parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'
2021-04-05 08:30:32 [http-nio-8888-exec-9] TRACE o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to pisibg.controller.ImageController#upload(int, HttpSession, MultipartFile)
2021-04-05 08:30:32 [http-nio-8888-exec-9] TRACE o.s.web.method.HandlerMethod - Arguments: [8, org.apache.catalina.session.StandardSessionFacade@5e4a0f54, org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@1978be37]
2021-04-05 08:30:32 [http-nio-8888-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-04-05 08:30:32 [http-nio-8888-exec-9] TRACE o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [pisibg.model.pojo.Image@2b]
2021-04-05 08:30:32 [http-nio-8888-exec-9] TRACE o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Applying default cacheSeconds=-1
2021-04-05 08:30:32 [http-nio-8888-exec-9] TRACE o.s.web.servlet.DispatcherServlet - No view rendering, null ModelAndView returned.
2021-04-05 08:30:32 [http-nio-8888-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK, headers={masked}
